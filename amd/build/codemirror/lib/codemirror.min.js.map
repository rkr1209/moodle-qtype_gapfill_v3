{"version":3,"sources":["../../../src/codemirror/lib/codemirror.js"],"names":["global","factory","exports","module","define","amd","self","CodeMirror","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","match","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","className","after","slice","index","length","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","i","eltP","setAttribute","range","createRange","start","end","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","parentNode","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","a","b","as","split","selectInput","select","selectionStart","selectionEnd","value","_e","bind","f","args","Array","prototype","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","Delayed","id","time","handler","onTimeout","Date","setTimeout","set","ms","clearTimeout","array","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","Object","create","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","source","isEmpty","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","charType","code","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","prev","type","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","replace","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","line","text","noHandlers","on","emitter","addEventListener","attachEvent","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","resolveMode","spec","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","getLine","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","getWrapperElement","charPos","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","String","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","dragDropChanged","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","border","findPosH","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","contentEditable","belongsToInput","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","screenReaderLabelChanged","label","removeAttribute","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","blur","pollSelection","poll","pollInterval","isInGutter","triggerOnKeyDown","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","readOnlyChanged","resetPosition","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","scrollTo","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","check","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","dontDelegate","method","defineMIME","mime","defineExtension","func","defineDocExtension","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","cmpPos","version"],"mappings":"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","sourcesContent":["  /*eslint-disable*/\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      cursor.style.width = Math.max(0, charPos.right - charPos.left) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.62.3\";\n\n  return CodeMirror;\n\n})));\n"],"file":"codemirror.min.js"}